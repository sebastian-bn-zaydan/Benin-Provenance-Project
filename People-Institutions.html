<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ========== Meta Tags ========== -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- ======== Page title ============ -->
    <title>The Edo Provenance Project</title>
    
    <!-- ========== Favicon Icon ========== -->
    <link rel="shortcut icon" href="assets/img/favicon.png">

    <!-- ===========  All Stylesheet ================= -->
    <!--  fontawesome css plugins -->
    <link rel="stylesheet" href="assets/css/fontawesome.min.css">
    <!--  slick css plugins -->
    <link rel="stylesheet" href="assets/css/slick.css">
    <!--  rangeSlider css plugins -->
    <link rel="stylesheet" href="assets/css/ion.rangeSlider.min.css">
    <!--  slick theme css plugins -->
    <link rel="stylesheet" href="assets/css/slick-theme.css">
    <!--  magnific-popup css plugins -->
    <link rel="stylesheet" href="assets/css/magnific-popup.css">
    <!--  owl carosuel css plugins -->
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
    <!--  meanmenu css plugins -->
    <link rel="stylesheet" href="assets/css/meanmenu.min.css">
    <!--  owl theme css plugins -->
    <link rel="stylesheet" href="assets/css/owl.theme.css">
    <!--  Bootstrap css plugins -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <!-- template main style css file -->
    <link rel="stylesheet" href="style.css">
    <!-- template responsive css stylesheet -->
    <link rel="stylesheet" href="assets/css/responsive.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
 	<!-- Load d3.js -->
	<script src="https://d3js.org/d3.v4.js"></script>
	<!-- Function for radial charts -->
	<script src="https://cdn.jsdelivr.net/gh/holtzy/D3-graph-gallery@master/LIB/d3-scale-radial.js"></script>
</head>

<body class="theme_body">
    
    <!-- preloader element started -->
        <div class="loader-wrap">
            <div class="pin"></div>
            <div class="pulse"></div>
        </div>
    <!-- preloader element end -->
    
    <!-- header section start -->
    <header class="header-section">
        <!-- top bar -->
        <div class="top-bar-header">
            <div class="container">
                <div class="row">
                    <div class="col-xl-6 col-md-8 col-12">
                        <div class="top-bar-left">
                            <span>Mapping the Provenance of the Benin Bronzes</span>
                        </div>
                    </div>
                    <div class="col-xl-6 col-md-4 col-12 text-md-right">
                        <div class="top-bar-right">
                            <div class="user-setting">
                                <ul>
									<!--
                                    <li><a href="#"><i class="fas fa-sign-out-alt"></i>Login</a></li>
                                    -->
                                    <li><a href="#"><i class="fas fa-user"></i>Contact</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- main menu -->
        <div class="main-header">
            <div class="container">
                <div class="row">
                    <div class="col-md-3 logo">
                        <a class="navbar-brand" href="index.html">
                            <img src="assets/img/logo.png" class="logo-display" alt="shipo">
                        </a> 
                    </div> <!-- /.col-md-3 logo -->
                    <div class="col-md-9 d-none d-lg-block text-lg-right">
                        <nav id="responsive-menu" class="main-menu">
                            <ul class="menu-items">
                                <li><a href="./index.html">map</a>
									<!--
                                    <ul class="submenu">
                                        <li><a href="index.html">Home One</a></li>
                                        <li><a href="index-2.html">Home Two</a></li>
                                    </ul>
                                    -->    
                                </li>
                                 <li><a href="#about-footer">About</a>
                                    <ul class="submenu">
                                        <li><a href="#positionality">Positionality</a></li>
                                    </ul></li>
                                 <li><a href="./history.html">History</a>    
                                 </li>
                                 <li><a href="explors-map-sidebar.html">Find</a></li>
                                 <li><a href="./People-Institutions.html">People and Institutions</a></li>
									<!--
                                    <ul class="submenu">
                                        <li><a href="login.html">login</a></li>
                                        <li><a href="register.html">register</a></li>
                                        <li><a href="booking.html">booking</a></li>
                                        <li><a href="popular-locations.html">Popular Place</a></li>
                                        <li><a href="contact.html">contact</a></li>
                                    </ul>
                                    --> 
                                </li>
                            </ul>
                            <a href="https://forms.gle/oobmXQusryxHoMHt9" class="btn-booking-start">Submit Missing Items</a>
                        </nav>
                    </div> <!-- /. col-md-9 d-none d-lg-block -->

                    <div class="col-12">
                        <div class="responsive-menu"></div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- header section end -->

    <!-- breadcrumb section start -->
    <section class="breadcrumb-banner bg-cover bg-overlay parallax-2" style="background-image: url('assets/img/Interior_of_Obas_compound_burnt_during_seige_of_Benin_City_1897.jpg'); background-position: center bottom">
        <div class="container">
            <div class="row">
                <div class="col-xl-12 col-sm-12">
                    <div class="breadcrumb-inner text-center">
                        <h2>People And Institutions</h2>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- breadcrumb section end -->


    <!-- populer location section start -->
    <section class="top-location-section section-padding">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 col-xl-6 text-center">
					<div id="my_dataviz"></div>
				</div>
                <div class="col-sm-4 col-xl-4 text-center">
                    <div id="positionality" class="section-title">
                        <h2>Institutions</h2>
                        <p>
							There are dozens of institutions in which artifacts
							looted from Benin are on display. Recently a movement
							for reperations have made significant strides. Most
							notebly <a href="https://www.artnews.com/art-news/news/germany-returns-benin-bronzes-2022-declaration-1234591348/">
							Many german musuems commited to return the Benin bronzes</a> and a the <a href="./assets/resources/Press_Statement_Benin_Dialogue_Group_2019.pdf">Benin Dialogue Group</a> is 
							cooredinating the establishing of a musuem in Benin to house artifacts to be returned from western Musuems. Parallel efforts to oranize <a href="https://digital-benin.org/">Digital collections</a> are underway.
						</p>
                    </div>
                </div>
            </div>
            </br></br>
            <div class="row">
                <div class="col-sm-4 col-xl-4 text-center">
                    <div id="positionality" class="section-title">
                        <h2>People</h2>
                        <p>
						The names of some organizations and individuals (such as the swidish Nobel family, or Augustus Pitt Rivers) 
						repeatedly show up in artifact provenance. The chart to the right visualizes the different hands that exchanged
						these artifacts before they ended up at different museums. 

						</p>
                    </div>
                </div>
                <div class="col-sm-6 col-xl-6 text-center">
					<svg id="ProvTree"></svg>
				</div>
            </div>
        </div>
    </section>
    <!-- populer location section end -->

    <!-- footer section wrapper start -->
    <footer class="footer-section">
        <div class="footer-widgets-section">
            <div class="container">
                <div class="row">
                    <div class="col-xl-6 col-md-6 col-lg-3 col-sm-12">
                        <div class="single-footer-widget">
                            <div id="about-footer" class="widget-title">
                                <h4>About</h4>
                            </div>
                            <p>This project visualizes the provenance data available for artifacts stolen during the 1897 sacking of Benin city by the British military. 
                            The aim is to organize the data in an accessible manner that fascilitates research and enables activists and academics to gain new insights
                            and organize around the cause of returning stolen artifacts to their rightful place in Benin and other countries.</p>
                        </div>
                    </div>

                    <div class="col-xl-3 col-md-6 col-lg-3 col-sm-12">
                        <div class="single-footer-widget">
                            <div class="widget-title">
                                <h4>Contributor</h4>
                            </div>
                            <p><a href="https://github.com/sebastian-bn-zaydan" style="color:#dc2426;">
									<strong><i class="fab fa-github"></i> Sebastian Bn-Zaydan</strong>
                                </a>
                            <!--
                            <div class="social-icons">
                                <span>Follow Me</span>
                                <ul>
                                    <li><a href="https://github.com/sebastian-bn-zaydan"><i class="fab fa-github"></i></a></li>
                                </ul>
                            </div>
                            -->
                            Engineer and a digital humanist in training from Palestine. Interested in natural language processing for social good.
                            </p>
                        </div>
                    </div>

                    <div class="col-xl-3 col-md-6 col-lg-3 col-sm-12">
                        <div class="single-footer-widget">
                            <div class="widget-title">
                                <h4>Public Institutions With Artifacts</h4>
                            </div>
                            <div class="widget-cats row">
                                <ul class="col-12 col-lg-6">
                                    <li><a href="#">MFA</a></li>
                                    <li><a href="#">The British-Museum</a></li>
                                </ul>
                                <ul class="col-12 col-lg-6">
                                    <li><a href="#">Weltmuseum</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
					<!--
                    <div class="col-xl-3 col-md-6 col-lg-3 col-sm-12">
                        <div class="single-footer-widget">
                            <div class="widget-title">
                                <h4>Subscribe</h4>
                            </div>
                            <div class="subscribe-box">
                                <form action="#">
                                    <input type="text" placeholder="Email address">
                                    <button type="submit">send</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    -->

                </div>
            </div>
        </div>
        <div class="footer-bottom-section">
            <div class="container">
                <div class="row">
                    <div class="col-xl-6 col-sm-12">
                        <span><i class="fas fa-balance-scale"></i> GNU General Public License v3.0</span>
                    </div>
                    <div class="col-xl-6 col-sm-12">
                        <div class="footer-menu">
                            <ul>
                                <li><a href="#">Home</a></li>
                                <li><a href="#">About</a></li>
                                <li><a href="#">History</a></li>
                                <li><a href="#">Find</a></li>
                                <li><a href="#">Contact</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- footer section wrapper end -->


    <!--  ALl JS Plugins
    ====================================== -->
    <script src="assets/js/jquery-1.12.4.min.js"></script>
    <script src="assets/js/jquery.easing.1.3.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/scrollUp.min.js"></script>
    <script src="assets/js/magnific-popup.min.js"></script>
    <script src="assets/js/wow.min.js"></script>
    <script src="assets/js/owl.carousel.min.js"></script>
    <script src="assets/js/slick.min.js"></script>
    <script src="assets/js/ion.rangeSlider.min.js"></script>
    <script src="assets/js/rater.min.js"></script>
    <script src="assets/js/meanmenu.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
    $(document).ready(function(){
	  $('#history-carousel').slick({
		infinite: false,
		arrows: false,
		dots: true,
		slidesToShow: 2,
		slidesToScroll: 1
	  });
	});
    </script>
	<script>
		// set the dimensions and margins of the graph
		var margin = {top: 20, right: 0, bottom: 0, left: 50},
			width = 500 - margin.left - margin.right,
			height = 500 - margin.top - margin.bottom,
			innerRadius = 30,
			outerRadius = Math.min(width, height) / 3;   // the outerRadius goes from the middle of the SVG area to the border

		// append the svg object
		var peopleSvg = d3.select("#my_dataviz")
		  .append("svg")
			.attr("width", width + margin.left + margin.right)
			.attr("height", height + margin.top + margin.bottom)
		  .append("g")
			.attr("transform", "translate(" + (width / 2 + margin.left) + "," + (height / 2 + margin.top) + ")");

		d3.csv("./data/Institutions.csv", function(data) {
		  // Scales
		  var x = d3.scaleBand()
			  .range([0, 2 * Math.PI])    // X axis goes from 0 to 2pi = all around the circle. If I stop at 1Pi, it will be around a half circle
			  .align(0)                  // This does nothing
			  .domain(data.map(function(d) { return d.Institution; })); // The domain of the X axis is the list of states.
		  var y = d3.scaleRadial()
			  .range([innerRadius, outerRadius])   // Domain will be define later.
			  .domain([0, 13]); // Domain of Y is from 0 to the max seen in the data

		  // Add the bars
		  peopleSvg.append("g")
			.selectAll("path")
			.data(data)
			.enter()
			.append("path")
			  .attr("fill", "#dc2426")
			  .attr("d", d3.arc()     // imagine your doing a part of a donut plot
				  .innerRadius(innerRadius)
				  .outerRadius(function(d) { return y(d['Value']); })
				  .startAngle(function(d) { return x(d.Institution); })
				  .endAngle(function(d) { return x(d.Institution) + x.bandwidth(); })
				  .padAngle(0.01)
				  .padRadius(innerRadius))

		  // Add the labels
		  peopleSvg.append("g")
			  .selectAll("g")
			  .data(data)
			  .enter()
			  .append("g")
				.attr("text-anchor", function(d) { return (x(d.Institution) + x.bandwidth() / 2 + Math.PI) % (2 * Math.PI) < Math.PI ? "middle" : "middle"; })
				.attr("transform", function(d) { return "rotate(" + ((x(d.Institution) + x.bandwidth() / 2) * 180 / Math.PI - 90) + ")"+"translate(" + (y(d['Value'])+10) + ",0)"; })
			  .append("text")
				.text(function(d){return(d.Institution)})
				.attr("transform", function(d) { return ((x(d.Institution) + x.bandwidth() / 2 + Math.PI) % (2 * Math.PI) >= Math.PI /2 && (x(d.Institution) + x.bandwidth() / 2 + Math.PI) % (2 * Math.PI) <= Math.PI * 3/2) ? "rotate(90)" : "rotate(270)"; })
				.style("font-size", "11px")
				.attr("alignment-baseline", "middle")

		});

		</script>
		<script src="./js/d3slanky.js"></script>
		<script>
			
		var units = "Widgets";

		// set the dimensions and margins of the graph
		var margin = {top: 10, right: 10, bottom: 10, left: 10},
			width = 600 - margin.left - margin.right,
			height = 400 - margin.top - margin.bottom;

		// format variables
		var formatNumber = d3.format(",.0f"),    // zero decimal places
			format = function(d) { return formatNumber(d) + " " + units; },
			color = d3.scaleOrdinal(d3.schemeCategory10);

		// append the svg object to the body of the page
		var svg = d3.select("#ProvTree")
			.attr("width", width + margin.left + margin.right)
			.attr("height", height + margin.top + margin.bottom)
		  .append("g")
			.attr("transform", 
				  "translate(" + margin.left + "," + margin.top + ")");

		// Set the sankey diagram properties
		var sankey = d3.sankey()
			.nodeWidth(10)
			.nodePadding(10)
			.size([width, height]);

		var path = sankey.link();

		// load the data
		d3.csv("./data/People.csv", function(error, data) {
		  //var pirainbow = new Rainbow(); 
		  //pirainbow.setNumberRange(1,2020-1860);
		  //pirainbow.setSpectrum('#6699ff', '#dc2426');
		  //set up graph in same style as original example but empty
		  graph = {"nodes" : [], "links" : []};

		  data.forEach(function (d) {
			graph.nodes.push({ "name": d.source });
			graph.nodes.push({ "name": d.target });
			graph.links.push({ "source": d.source,
							   "target": d.target,
							   "value": +d.value });
		   });

		  // return only the distinct / unique nodes
		  graph.nodes = d3.keys(d3.nest()
			.key(function (d) { return d.name; })
			.object(graph.nodes));

		  // loop through each link replacing the text with its index from node
		  graph.links.forEach(function (d, i) {
			graph.links[i].source = graph.nodes.indexOf(graph.links[i].source);
			graph.links[i].target = graph.nodes.indexOf(graph.links[i].target);
		  });

		  // now loop through each nodes to make nodes an array of objects
		  // rather than an array of strings
		  graph.nodes.forEach(function (d, i) {
			graph.nodes[i] = { "name": d };
		  });

		  sankey
			  .nodes(graph.nodes)
			  .links(graph.links)
			  .layout(32);

		  // add in the links
		  var link = svg.append("g").selectAll(".link")
			  .data(graph.links)
			.enter().append("path")
			  .attr("class", "link")
			  .attr("d", path)
			  .style("stroke-width", function(d) { return Math.max(1, d.dy); })
			  .sort(function(a, b) { return b.dy - a.dy; });

		  // add the link titles
		  link.append("title")
				.text(function(d) {
					return d.source.name + " â†’ " + 
						d.target.name + "\n" + format(d.value); });

		  // add in the nodes
		  var node = svg.append("g").selectAll(".node")
			  .data(graph.nodes)
			.enter().append("g")
			  .attr("class", "node")
			  .attr("transform", function(d) { 
				  return "translate(" + d.x + "," + d.y + ")"; })
			  .call(d3.drag()
				.subject(function(d) {
				  return d;
				})
				.on("start", function() {
				  this.parentNode.appendChild(this);
				})
				.on("drag", dragmove));

		  // add the rectangles for the nodes
		  node.append("rect")
			  .attr("height", function(d) { return d.dy; })
			  .attr("width", sankey.nodeWidth())
			  .style("fill", function(d) { 
				  //return d.color = pirainbow.colourAt(d.source.year-1860); })
				  return d.color = color(d.name.replace(/ .*/, "")); })
			  .style("stroke", function(d) { 
				  return d3.rgb(d.color).darker(2); })
			.append("title")
			  .text(function(d) { 
				  return d.name + "\n" + format(d.value); });

		  // add in the title for the nodes
		  node.append("text")
			  .attr("x", -6)
			  .attr("y", function(d) { return d.dy / 2; })
			  .attr("dy", ".35em")
			  .attr("text-anchor", "end")
			  .attr("transform", null)
			  .text(function(d) { return d.name; })
			.filter(function(d) { return d.x < width / 2; })
			  .attr("x", 6 + sankey.nodeWidth())
			  .attr("text-anchor", "start");

		  // the function for moving the nodes
		  function dragmove(d) {
			d3.select(this)
			  .attr("transform", 
					"translate(" 
					   + d.x + "," 
					   + (d.y = Math.max(
						  0, Math.min(height - d.dy, d3.event.y))
						 ) + ")");
			sankey.relayout();
			link.attr("d", path);
		  }
		});

		</script>
</body>
</html>
